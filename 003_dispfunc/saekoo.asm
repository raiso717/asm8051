	COUNT1 REG 01
	COUNT2 REG 02
	COUNT3 REG 03
	ORG 0H
	AJMP MAIN
	ORG 03H
	JMP INIT0
	ORG 13H
	JMP INIT1
;-----------------------------------
MAIN:
	MOV	IE,#10000101B
LOOP
	MOV P1,#00000001B
	ACALL DELAY2
	MOV P1,#00000010B
	ACALL DELAY2
	MOV P1,#00000100B
	ACALL DELAY2
	MOV P1,#00001000B
	ACALL DELAY2
	AJMP LOOP

;-----------------------------------
INIT0:
	PUSH COUNT3
	MOV COUNT2,#03
C0
	MOV COUNT1,#08
A0
	ACALL DISP
	MOV P1,#00000001B
	ACALL DELAY1
	MOV P1,#00000010B
	ACALL DELAY1
	MOV P1,#00000100B
	ACALL DELAY1
	MOV P1,#00001000B
	ACALL DELAY1
	DJNZ COUNT1,A0	
	DJNZ COUNT2,C0
	ACALL DISP

	MOV COUNT2,#64
D0
	ACALL DELAY2
	DJNZ COUNT2,D0

	MOV P2,#FFH
	POP COUNT3
	RETI

;-----------------------------------
INIT1:
	PUSH COUNT3
	MOV COUNT2,#09
C1
	MOV COUNT1,#02
A1
	ACALL DISP
	MOV P1,#00000001B
	ACALL DELAY4
	MOV P1,#00001000B
	ACALL DELAY4
	MOV P1,#00000100B
	ACALL DELAY4
	MOV P1,#00000010B
	ACALL DELAY4
	DJNZ COUNT1,A1	
	DJNZ COUNT2,C1
	ACALL DISP

	MOV COUNT2,#32
D1
	ACALL DELAY2
	DJNZ COUNT2,D1

	MOV P2,#FFH
	POP COUNT3
	RETI

;-----------------------------------
DELAY1:
	MOV COUNT3,#1
	MOV TMOD,#00000001B
TIMER1
	MOV TH0,#85H
	MOV TL0,#EEH
	SETB TR0
WAIT1
	JB TF0,OK1
	AJMP WAIT1
OK1
	CLR TF0
	DJNZ COUNT3,TIMER1
	RET

;-----------------------------------
DELAY2:
	MOV COUNT3,#2
	MOV TMOD,#00000001B
TIMER2
	MOV TH0,#85H
	MOV TL0,#EEH
	SETB TR0
WAIT2 
	JB TF0,OK2
	AJMP WAIT2
OK2
	CLR TF0
	DJNZ COUNT3,TIMER2
	RET

;-----------------------------------
DELAY4:
	MOV COUNT3,#4
	MOV TMOD,#00000001B
TIMER4
	MOV TH0,#85H
	MOV TL0,#EEH
	SETB TR0
WAIT4 
	JB TF0,OK4
	AJMP WAIT4
OK4
	CLR TF0
	DJNZ COUNT3,TIMER4
	RET

;-----------------------------------
DISP:
	MOV DPTR,#DATA
	MOV A,COUNT2
	MOVC A,@A+DPTR
	MOV P2,A
	RET

;-----------------------------------
DATA
DB 11000000B
DB 11111001B
DB 10100100B
DB 10110000B
DB 10011001B
DB 10010010B
DB 10000011B
DB 11111000B
DB 10000000B
DB 10010000B